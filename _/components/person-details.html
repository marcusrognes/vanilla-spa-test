<div>
  <header>
    <nav>
      <h1 class="name"></h1>
    </nav>
  </header>

  <pre class="data"></pre>

  <script>
    (async (currentScript) => {
      const personId = "{{personId}}";
      const response = await fetch(`https://swapi.dev/api/people/${personId}`, {
        cache: "force-cache",
      }).catch((e) => console.error(e));

      const data = await response.json();
      currentScript.parentNode.querySelector(".name").innerText = data.name;
      currentScript.parentNode.querySelector(".data").innerText =
        JSON.stringify(data, null, 4);
    })(document.currentScript);
  </script>
</div>
